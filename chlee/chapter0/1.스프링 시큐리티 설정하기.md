# ìŠ¤í”„ë§ ì›¹ ì‹œíë¦¬í‹° ì„¤ì • ì¶”ê°€

ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•´ì£¼ëŠ” ìë™ ì„¤ì • ë§ê³ ë„ ì§ì ‘ ì„¤ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```java
package hello.springsecurityform.config;

import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;

@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

}
```

1. @Configuration
    - ì„¤ì • ì •ë³´
2. @EnableWebSecurity
    - ì°¸ê³ ë¡œ @EnableWebSecurityëŠ” ì—†ì–´ë„ ìƒê´€ ì—†ìŠµë‹ˆë‹¤. ë¹¼ë”ë¼ë„ ìŠ¤í”„ë§ ë¶€íŠ¸ ìë™ì„¤ì •ì´ ì•Œì•„ì„œ ì¶”ê°€ë¥¼ í•´ì¤ë‹ˆë‹¤.
3. WebSecurityConfigurerAdapter ìƒì†

ì´ë ‡ê²Œ ì„¸ê°€ì§€ë¥¼ ì¶”ê°€í•˜ë©´ ìŠ¤í”„ë§ ì›¹ ì‹œíë¦¬í‹° ì„¤ì • íŒŒì¼ì´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.

<br>
<br>

```java
package hello.springsecurityform.config;

import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;

@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http.authorizeRequests()
                .mvcMatchers("/", "/info").permitAll()
                .mvcMatchers("/admin").hasRole("ADMIN")
                .anyRequest().authenticated()
                .and()
            .formLogin()
                .and()
            .httpBasic();
    }
}
```

1. ì£¼ë¡œ ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ì„¤ì •ì€ configure(HttpSecurity http) ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•´ì„œ ë§Œë“­ë‹ˆë‹¤.
2. authorizeRequests
    - ë£¨íŠ¸ë¡œ ì˜¤ëŠ” ìš”ì²­ì™€ infoë¡œ ì˜¤ëŠ” ìš”ì²­ì„ ì¸ì¦ì„ ê±°ì¹˜ì§€ ì•Šë„ë¡ ì„¤ì •í•˜ê³  ì‹¶ì„ ë•Œ ì„¤ì •ì„ í•˜ëŠ” ì§€ì ì…ë‹ˆë‹¤.
    - HttpServeltRequest ìš”ì²­ URLì— ë”°ë¼ ì ‘ê·¼ ê¶Œí•œì„ ì„¤ì •í•©ë‹ˆë‹¤.
3. mvcMatchers
    - íŒŒë¼ë¯¸í„°ë¡œ ê²½ë¡œ íŒ¨í„´ì„ ë„£ì–´ì¤ë‹ˆë‹¤.
    - ant pattern ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        - ì˜ˆ) /info*, /*info ê°™ì€ íŒ¨í„´ì„ ì˜ë¯¸
4. permitAll
    - ì¸ì¦ì„ ê±°ì¹˜ì§€ ì•Šë„ë¡ í—ˆê°€í•˜ëŠ” ë©”ì„œë“œ
5. hasRole
    - `mvcMatchers("/admin").hasRole("ADMIN")`
    - admin ê°™ì€ ê²½ìš°ëŠ” ë°˜ë“œì‹œ `ADMIN` ê¶Œí•œì´ ìˆì–´ì•¼ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ë£°ì„ ë„£ì–´ì¤ë‹ˆë‹¤.
6. anyRequest
    - ê·¸ ë°–ì˜ ê¸°íƒ€ ë“±ë“±
7. authenticated
    - ì¸ì¦ë§Œ í•˜ë©´ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸ì˜ ë©”ì„œë“œ
    - anyRequest().authenticated() : ì¸ì¦ëœ ìœ ì €ë§Œ ì ‘ê·¼ì„ í—ˆìš©í•œë‹¤.
8. and
    - ê·¸ë¦¬ê³ 
9. formLogin
    - í¼ ë¡œê·¸ì¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    - `http.formLogin();` í•œì¤„ë¡œ ê¸°ë³¸ í¼ ë¡œê·¸ì¸ í™”ë©´ë„ ë§Œë“¤ì–´ì£¼ê³ , í¼ ë¡œê·¸ì¸ ê¸°ëŠ¥ë„ ì œê³µí•´ì¤ë‹ˆë‹¤.
    - formLogin ì—ë„ ìì„¸í•˜ê²Œ ì„¤ì •í•˜ëŠ” ìˆ˜ë§ì€ ì˜µì…˜ì´ ì¡´ì¬í•˜ì§€ë§Œ, ê¸°ë³¸ ì„¤ì •ì„ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.
10. httpBasic
    - httpBasic ë„ ì„¤ì •ì„ í•©ë‹ˆë‹¤.
    - ì‚¬ìš©ì ì¸ì¦ë°©ë²•ìœ¼ë¡œëŠ” HTTP Basic Authenticationì„ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸

        <br>

        <aside>
        â— HTTP Basic Authentication ì´ë€?
        
        ---
        
        Clientê°€ ID, Passwordë¥¼ ì•Œê³  ìˆê³ , HTTPë¥¼ ì´ìš©í•˜ì—¬ ë‹¨ìˆœí•œ ì¸ì¦ì´ í•„ìš”í• ë•Œ HTTP Basic ì¸ì¦ì´ ì´ìš©ë©ë‹ˆë‹¤.
        
        IDì™€ PasswordëŠ” Authentication í—¤ë”ì— ë„£ì–´ ìš”ì²­ë§ˆë‹¤ ì „ì†¡ë©ë‹ˆë‹¤. ID, Passwordê°€ Base64ë¡œ Encodingë˜ì–´ ìˆì–´ ID, Passwordê°€ ì‰½ê²Œ ë…¸ì¶œë˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. SSLì´ë‚˜ TLSë¥¼ ì´ìš©í•˜ì—¬ ID, Passwordì˜ ë…¸ì¶œì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </aside>
        
<br>

ì´ì •ë„ë§Œ ì„¤ì •ì„ í•˜ë©´ ë©ë‹ˆë‹¤. ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ê°€ ì •ë§ ë§ì´ ë…¸ë ¥í•´ì„œ ì„¤ì •ì„ ê°„ì†Œí™” ì‹œì¼œì¤€ ê²ƒ ì…ë‹ˆë‹¤.

ì°¸ê³ ë¡œ and() ë¥¼ êµ³ì´ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ìƒê´€ ì—†ìŠµë‹ˆë‹¤.

```java
package hello.springsecurityform.config;

import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;

@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http.authorizeRequests()
                .mvcMatchers("/", "/info").permitAll()
                .mvcMatchers("/admin").hasRole("ADMIN")
                .anyRequest().authenticated();          
        http.formLogin();
				http.httpBasic();
    }
}
```

ìš”ì²­ì„ ì–´ë–»ê²Œ ì¸ê°€í• ì§€ ì„¤ì •ì„ í•˜ê³ , formLoginì„ ì‚¬ìš©í•˜ê² ë‹¤ê³  ì„¤ì •í•˜ê³ , httpBasicì„ ì‚¬ìš©í•˜ê² ë‹¤ê³  ì„¤ì •í•©ë‹ˆë‹¤.

â†’ [ì¸ê°€, ì¸ì¦ ì°¨ì´](https://www.notion.so/HTTP-334a28841fc84962ba323526d80b44de)

ì´ëŸ°ì‹ìœ¼ë¡œ ë©”ì„œë“œ ì²´ì´ë‹ì„ ê¼­ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.

<br>

<aside>
ğŸ’¡ WebSecurityConfigurerAdapter ì§€ì› ì¤‘ë‹¨

---

ì°¸ê³  : [https://www.inflearn.com/questions/547599](https://www.inflearn.com/questions/547599)

â†’ [ìì„¸íˆ](https://www.notion.so/WebSecurityConfigurerAdapter-Deprecated-9be3c97d4edb480188b0ae21cdd93460)

</aside>
